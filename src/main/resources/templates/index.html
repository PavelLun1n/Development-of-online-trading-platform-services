<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Marketplace</title>
    <link rel="stylesheet" href="/css/styles.css"/>
</head>
<body>
<header>
    <div class="header-container">
        <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –¥–ª—è –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –∏ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤</h1>
        <!-- –§–æ—Ä–º–∞ –ø–æ–∏—Å–∫–∞ —Ç–µ–ø–µ—Ä—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç GET –Ω–∞ "/", –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä query -->
        <form action="/" method="get" class="search-form">
            <input
                    type="text"
                    name="query"
                    placeholder="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤..."
                    class="search-input"
                    th:value="${query}"
            />
            <button type="submit" class="search-button">–ù–∞–π—Ç–∏</button>
            <!-- –ö—Ä–µ—Å—Ç–∏–∫ –¥–ª—è —Å–±—Ä–æ—Å–∞ –ø–æ–∏—Å–∫–∞, –≤–∏–¥–µ–Ω —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ query –Ω–µ –ø—É—Å—Ç -->
            <a th:if="${query}" href="/" class="search-reset" title="–°–±—Ä–æ—Å–∏—Ç—å –ø–æ–∏—Å–∫">‚úï</a>
        </form>
        <div class="header-actions">
            <a href="/cart" class="cart-link" title="–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–æ—Ä–∑–∏–Ω—É">üõí –ö–æ—Ä–∑–∏–Ω–∞</a>
            <a href="/login" class="login-link">–í–æ–π—Ç–∏</a>
        </div>

    </div>
    <nav>
        <ul>
            <li><a href="/">–ì–ª–∞–≤–Ω–∞—è</a></li>
            <li><a href="/products">–¢–æ–≤–∞—Ä—ã</a></li>
            <li><a href="/auctions">–ê—É–∫—Ü–∏–æ–Ω—ã</a></li>
        </ul>
    </nav>
</header>

<main>
    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–ª–∏—á–∏—è –ø–æ–∏—Å–∫–∞ -->
    <h2 th:if="${query == null}">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã</h2>
    <h2 th:if="${query != null}">
        –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –ø–æ ¬´<span th:text="${query}">‚Ä¶</span>¬ª
    </h2>

    <div class="product-list">
        <!-- –°–æ–æ–±—â–µ–Ω–∏–µ, –µ—Å–ª–∏ –Ω–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
        <div th:if="${#lists.isEmpty(products)}" class="no-results">
            <p>–ü–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.</p>
        </div>
        <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ -->
        <div th:each="product : ${products}" class="product-card">
            <a th:href="@{/products/{id}(id=${product.id})}" class="product-link">
                <h3 th:text="${product.name}">–ù–∞–∑–≤–∞–Ω–∏–µ</h3>
                <img
                        th:src="@{${product.imageUrl}}"
                        alt="–ö–∞—Ä—Ç–∏–Ω–∫–∞ —Ç–æ–≤–∞—Ä–∞"
                        class="product-image"
                />
                <p th:text="${product.description}">–û–ø–∏—Å–∞–Ω–∏–µ</p>
                <p>
                    –¶–µ–Ω–∞:
                    <span th:text="${product.price}">0.00</span>
                    ‚ÇΩ
                </p>
                <p>
                    –û—Å—Ç–∞—Ç–æ–∫:
                    <span th:text="${product.stock}">0</span>
                    —à—Ç.
                </p>
            </a>
        </div>
    </div>
</main>

<footer>
    <p>&copy; 2025 Marketplace</p>
</footer>

<script src="/js/script.js"></script>
</body>
</html>
